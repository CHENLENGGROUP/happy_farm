{% extends 'main.html' %}

{% block additional_css %}
<!-- jquery-steps css -->
	<link rel="stylesheet" href="../static/vendors/bower_components/jquery.steps/demo/css/jquery.steps.css">

	<!-- bootstrap-touchspin CSS -->
	<link href="../static/vendors/bower_components/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.css" rel="stylesheet" type="text/css"/>
{% end %}

{% block additional_css_after_style %}
<style>
input:disabled,textarea:disabled{
    border: 1px solid #fff;
    background-color: #fff;
}
#brief{
    width: 600px;
    height: 210px;
}
#editBtn{
    float:right;
}
#description{
    width: 1070px;
    height: 165px;
}
#stock{
    width: 50px;
    text-align: center;
}

</style>
{% end %}

{% block main_part %}
<!-- Row -->
<div class="row">
    <div class="col-sm-12">
        <div class="panel panel-default card-view">
            <div class="panel-wrapper collapse in">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="item-big">
                                <img class="img-responsive" id="item-display" src="../static/dist/img/mock1.jpg" alt="product"/>
                            </div>
                        </div>

                        <div class="col-md-7">
                            <div class="product-detail-wrap">
                                <div class="product-rating inline-block mb-10">
                                    <a href="javascript:void(0);" class="fa fa-star"></a><a href="javascript:void(0);" class="fa fa-star"></a><a href="javascript:void(0);" class="fa fa-star"></a><a href="javascript:void(0);" class="fa fa-star"></a><a href="javascript:void(0);" class="fa fa-star"></a>
                                </div>
                                <div class="average-review inline-block mb-10">&nbsp;( 剩余库存： <span class="review-count"><input id="stock" value="{{product_list[0]['stock']}}" disabled class="date-toggle-hide" data-placement="right" title="输入要修改的内容,点击保存修改"></span>)</div>
                                <h3 class="mb-20"><input class="date-toggle-hide" value ="{{product_list[0]['product_name']}}" disabled id="productName" data-placement="right" title="输入要修改的内容,点击保存修改"></h3>
                                <div class="product-price head-font mb-30" >￥ <input class="date-toggle-hide" value="{{product_list[0]['shop_price']}}" disabled id="price" data-placement="right" title="输入要修改的内容,点击保存修改"></div>
                                <p class="mb-50"><textarea id="brief" disabled class="date-toggle-hide" data-placement="top" title="输入要修改的内容,点击保存修改">{{product_list[0]['brief']}}</textarea></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Row -->

<!-- Row -->
<div class="row">
    <div class="col-sm-12">
        <div class="panel panel-default card-view">
            <div class="panel-wrapper collapse in">
                <div class="panel-body">
                    <div id="example-tabs" class="product-detail-description">
                        <h3>商品描述</h3>
                        <section>
                            <p><textarea id="description" disabled class="mt-20 date-toggle-hide" data-placement="top" title="输入要修改的内容,点击保存修改">{{product_list[0]['description']}}</textarea></p>
                        </section>
                        <h3>商品信息</h3>
                        <section>
                                <div class="table-wrap">
                                    <div class="table-responsive">
                                      <table class="table  mb-0">
                                        <tbody>
                                            {% for item in property_list %}
                                            <tr>
                                                <td>{{item['property_name']}}</td>
                                                <td>{{item['property_content']}}</td>
                                            </tr>
                                            {% end %}
                                        </tbody>
                                      </table>
                                    </div>
                                </div>
                            </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="btn-group mr-50 mb-50" id="editBtn">
            <button class="btn btn-success btn-anim" id="edit"><i class="icon-pencil"></i><span class="btn-text" id="btnText">编辑</span></button>
        </div>
    </div>
</div>
<!-- /Row -->


{% end %}

{% block additional_script %}
    <!-- Form Wizard JavaScript -->
	<script src="../static/vendors/bower_components/jquery.steps/build/jquery.steps.min.js"></script>
    <!-- Bootstrap Touchspin JavaScript -->
	<script src="../static/vendors/bower_components/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js"></script>
    <!-- Product Detail Data JavaScript -->
	<script src="../static/dist/js/product-detail-data.js"></script>
    <!-- Starrr JavaScript -->
	<script src="../static/dist/js/starrr.js"></script>
    <script>
        $(document).ready(function(){
            $(function () { $('.date-toggle-hide').tooltip('hide');});
            $('#edit').click(function(){
                if($('#btnText').html() == "保存"){
                    $('#productName').attr("disabled",true);
                    $('#price').attr("disabled",true);
                    $('#brief').attr("disabled",true);
                    $('#description').attr("disabled",true);
                    $('#stock').attr("disabled",true);
                    $('#btnText').html('编辑');
                    $(function () { $('.date-toggle-hide').tooltip('destroy');});
                }else{
                    $('#productName').attr({"disabled":false,"data-toggle":"tooltip","data-placement":"right","title":"输入要修改的内容,点击保存修改"});
                    $('#price').attr("disabled",false);
                    $('#brief').attr("disabled",false);
                    $('#description').attr("disabled",false);
                    $('#stock').attr("disabled",false);
                    $('#btnText').html('保存');
                    $(function () { $('.date-toggle-hide').tooltip();});
                }
            });
        });
    </script>
{% end %}